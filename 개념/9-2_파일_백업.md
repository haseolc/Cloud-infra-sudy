# 9️⃣-2️⃣ 파일 백업

> 🔵 핵심 요약 (큰 그림)
> 
> 
> 파일 백업은
> 
> **데이터를 언제, 어떻게, 얼마나 효율적으로 보관할 것인가**에 대한 전략이다.
> 

---

## 1️⃣ Full / Incremental / Differential

---

### 🧠 비유

> 책 복사 전략
> 

---

### 📚 Full Backup (전체 백업)

### 비유

> 책 한 권을 처음부터 끝까지 통째로 복사
> 

### 정의

- 모든 파일을 백업

### 장단점

| 장점 | 단점 |
| --- | --- |
| 복구 간단 | 저장 공간 큼 |
| 관리 쉬움 | 시간 오래 걸림 |

---

### 📘 Incremental Backup (증분 백업)

### 비유

> 어제 이후 바뀐 페이지만 복사
> 

### 정의

- 마지막 백업 이후 변경분만 저장

### 장단점

| 장점 | 단점 |
| --- | --- |
| 빠름 | 복구 복잡 |
| 용량 작음 | 중간 손상에 취약 |

---

### 📗 Differential Backup (차등 백업)

### 비유

> 처음 복사한 책 이후 달라진 모든 페이지 복사
> 

### 정의

- 마지막 Full 이후 변경분 전부

### 장단점

| 장점 | 단점 |
| --- | --- |
| 복구 비교적 쉬움 | 용량 점점 증가 |

---

### 🔍 한 눈에 비교

| 구분 | 기준 | 복구 필요 |
| --- | --- | --- |
| Full | 전체 | Full 1개 |
| Incremental | 직전 백업 | Full + 모든 증분 |
| Differential | 마지막 Full | Full + 마지막 차등 |

---

## 2️⃣ tar / rsync

---

### 🧠 비유

> 짐 싸기 vs 택배 배송
> 

---

### 📦 tar

### 비유

> 박스에 한 번에 포장
> 

### 정의

- 여러 파일을 하나로 묶음

### 특징

- 보관용 적합
- 압축 가능
- 실시간 동기화 ❌

### 예시

```bash
tar -czf backup.tar.gz /var/www/html

```

---

### 🚚 rsync

### 비유

> 변경된 물건만 배송
> 

### 정의

- 변경된 파일만 복사

### 특징

- 증분 백업
- 네트워크 백업 가능
- 매우 효율적

### 예시

```bash
rsync -av --delete /source/ /backup/

```

---

### 🧠 언제 쓰나?

- tar → 보관, 아카이빙
- rsync → 주기적 백업

---

## 3️⃣ 백업 주기

---

### 🧠 비유

> 보험 갱신 주기
> 

---

### 📅 주기 설정 기준

| 기준 | 설명 |
| --- | --- |
| 변경 빈도 | 자주 바뀌면 자주 |
| 복구 요구 | 빨리 복구해야 하면 |
| 저장 비용 | 공간 고려 |

---

### 🧠 실무 예시

| 대상 | 주기 |
| --- | --- |
| 정적 웹 파일 | 하루 1회 |
| 로그 | 매시간 |
| DB | 하루 여러 번 |

---

## 🔗 네 프로젝트 적용 예

```
/var/www/html
   ↓
rsync (매일)
   ↓
백업 서버
   ↓
주1회 tar 압축 보관

```

---

## ⚠️ 흔한 실수

- 백업만 하고 복구 테스트 ❌
- 백업 서버를 같은 서버에 둠 ❌

---

## ✅ 9-2 핵심 요약

```markdown
- Full: 전체 백업
- Incremental: 변경분만
- Differential: Full 이후 변경분
- tar: 보관
- rsync: 동기화

```
